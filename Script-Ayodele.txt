Create database Loja_Info
Go
Use Loja_Info
Go

go
Create table Clientes(
Id_cliente int not null primary key identity ,
DataNasc datetime not null,
Nome_client  varchar(50)  not null,
Enderc varchar(100) not null,
Telephone int not null
)
go

Create table Vendas(
id_produto int  not null  PRIMARY key  identity,
id_cliente int not null  FOREIGN  key references clientes,
nome_prod  varchar(50) not null,
Data datetime not null, 
Nome_client  varchar(50)  not null,
idVenda int not null

)
go

go
Create table Produtos(
id_produto int  not null primary key identity,
nome_prod  varchar(50) not null,
qtde_prod int not null,
preco decimal (9,2) not null
)
go
Create table Vendas_Canceladas  (
id_produto int  not null ,
nome_prod  varchar(50) not null,
Data datetime not null, 
Id_cliente int not null,
idVendasc int not null primary key identity
)
go 
Create table Item_Vendido(
id_produto int  not null FOREIGN key references Produtos,
nome_prod  varchar(50) not null,
Data datetime not null, 
Id_cliente int not null,
idVenda int not null FOREIGN  key references Vendas, 
idVendasc int not null FOREIGN  key references  Vendas_Canceladas

)
go
Insert  into Vendas values (1, 1, 'Pen-Drive', '22/09/2019', 'Lucas', 41),
			(2, 340, 'Monitor', '12/10/2019', 'Ayodele', 842);
go
Insert  into cliente values (1, '22/09/1998',  'Guilhemre', 'Av Koblain', 234,977002623),
			(2, '02/08/1989',  'Ayodele', 'Av Paulista', 234, 11324225284);
go
Insert  into Vendas_Canceladas  values (123, 'Arduino', '10/05/2019',  4 , 40),
			(143, 'Fonte', '30/06/2019',  6  , 360);
go
Insert  into Item_Vendido values (4, 'Teclado', '30/08/2019', 700, 445),
			(6, 'Gabinete', '20/12/2019', 750, 345);
go
Insert  into Produtos values (20, 'Cabo USB', 2,  1.3),
			(30, 'Mouse', 9,  2.3);
go